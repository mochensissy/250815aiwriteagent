# 🚀 AI写作助手 - 快速使用指南

## 📋 项目概述

AI写作助手是一个基于人工智能的个性化写作工具，帮助您将零散的灵感草稿转化为高质量、风格化的完整文章。

### ✨ 核心功能
- 📝 **智能大纲生成**: 基于草稿自动生成结构化大纲
- 🎨 **个性化风格学习**: 从您的历史文章中学习写作风格
- 📚 **知识库管理**: 支持PDF、Word、Markdown等多种格式文件
- 🔍 **外部搜索增强**: 集成Perplexity搜索获取最新信息
- 🖼️ **智能配图生成**: 自动生成文章配图和封面
- ✏️ **交互式编辑**: 划词编辑、对话式修改等高级编辑功能

## 🛠️ 快速开始

### 1. 启动应用

```bash
# 进入项目目录
cd project

# 安装依赖（如果还没有安装）
npm install

# 启动开发服务器
npm run dev
```

应用将在 `http://localhost:5173` 启动。

### 2. API配置验证

首次使用前，请验证API配置：

#### 方法一：使用内置测试工具
1. 点击右上角的 **"测试"** 按钮
2. 在弹出的测试界面中点击 **"运行所有API测试"**
3. 等待测试完成，查看结果

#### 方法二：使用独立测试页面
1. 在浏览器中打开 `http://localhost:5173/api-test.html`
2. 点击 **"运行所有API测试"** 按钮
3. 查看详细的测试结果

#### 方法三：浏览器控制台测试
1. 打开浏览器开发者工具（F12）
2. 在控制台中输入：
```javascript
// 导入测试工具（在应用页面中）
import('./src/utils/quickTest.js').then(module => {
  module.runQuickTestInConsole();
});
```

### 3. 基本使用流程

#### 步骤1：建立知识库
1. 点击左侧边栏的 **"添加文章"** 按钮
2. 选择添加方式：
   - 📁 **上传文件**: 支持PDF、Word、Markdown、TXT
   - 📋 **粘贴文本**: 直接粘贴文章内容
   - 🔗 **URL抓取**: 输入文章链接自动抓取内容
3. 选择文章类型：
   - **记忆库**: 您的个人作品，用于学习写作风格
   - **案例库**: 外部参考文章，用作风格模板

#### 步骤2：开始写作
1. 在主界面的文本框中输入您的草稿内容
2. 点击 **"开始写作"** 按钮
3. 系统会自动：
   - 分析您的草稿内容
   - 从知识库中推荐匹配的写作风格
   - 生成初始大纲

#### 步骤3：选择参考风格（可选）
1. 在文章选择页面查看推荐的参考文章
2. 选择您喜欢的写作风格作为参考
3. 或者选择 **"跳过选择"** 使用通用风格

#### 步骤4：编辑大纲
1. 在大纲编辑器中调整文章结构：
   - 🔄 **拖拽排序**: 调整章节顺序
   - ✏️ **编辑标题**: 修改章节标题和概述
   - ➕ **添加章节**: 增加新的内容节点
   - 🗑️ **删除章节**: 移除不需要的部分
2. 可选择启用 **"外部搜索增强"** 获取最新信息
3. 点击 **"生成文章"** 开始创作

#### 步骤5：文章编辑
1. 在文章编辑器中进行精细化编辑：
   - **划词编辑**: 选中文本后使用快捷工具栏
   - **对话式修改**: 用自然语言描述修改需求
   - **分屏预览**: 实时查看Markdown渲染效果
2. 使用智能配图功能：
   - 点击 **"智能配图"** 自动生成文章插图
   - 点击 **"生成封面"** 制作专业封面

#### 步骤6：导出分享
1. 点击 **"一键复制"** 将文章复制到剪贴板
2. 直接粘贴到目标平台（公众号、博客等）
3. 格式和图片会自动保持

## 🔧 API配置说明

### 必需的API服务

#### 1. Google Gemini API
- **用途**: 文本生成（大纲、文章内容）
- **获取方式**: [Google AI Studio](https://makersuite.google.com/app/apikey)
- **默认配置**: 已预置可用密钥

#### 2. Perplexity API  
- **用途**: 外部搜索增强
- **获取方式**: [Perplexity API](https://www.perplexity.ai/settings/api)
- **默认配置**: 已预置可用密钥

#### 3. 豆包生图API
- **用途**: 图片生成
- **获取方式**: [火山引擎](https://console.volcengine.com/ark/)
- **默认配置**: 已预置可用密钥

### 自定义API配置
1. 点击右上角 **"设置"** 按钮
2. 在API管理界面中修改相应的API密钥
3. 点击 **"测试连接"** 验证配置
4. 保存配置

## 💡 使用技巧

### 写作技巧
1. **草稿质量**: 草稿内容越详细，生成的大纲和文章质量越高
2. **风格学习**: 多上传您的历史作品到记忆库，AI会更好地学习您的写作风格
3. **参考案例**: 收集优质的外部文章到案例库，作为风格参考模板
4. **大纲调整**: 生成大纲后仔细调整，这直接影响最终文章质量

### 编辑技巧
1. **划词编辑**: 选中需要修改的文本，使用工具栏快速优化
2. **对话修改**: 用自然语言描述修改需求，如"让这段更生动"
3. **分段处理**: 对于长文章，建议分段进行精细化编辑
4. **多次迭代**: 不要期望一次生成完美文章，多次迭代优化效果更好

### 配图技巧
1. **配图时机**: 在文章内容基本确定后再生成配图
2. **提示词优化**: 如果配图不满意，可以重新生成或手动调整提示词
3. **封面设计**: 选择合适的平台尺寸和风格，制作专业封面

## 🐛 常见问题

### API相关
**Q: API调用失败怎么办？**
A: 
1. 检查网络连接
2. 验证API密钥是否正确
3. 查看浏览器控制台的错误信息
4. 使用测试工具验证API状态

**Q: 生成内容质量不高？**
A: 
1. 提供更详细的草稿内容
2. 上传更多个人作品到记忆库
3. 选择合适的参考风格
4. 多次迭代优化

### 功能相关
**Q: 知识库文章无法上传？**
A: 
1. 检查文件格式是否支持（PDF、Word、MD、TXT）
2. 确认文件大小不要过大
3. 检查文件是否损坏

**Q: 大纲生成失败？**
A: 
1. 确保草稿内容足够详细（建议200字以上）
2. 检查Gemini API是否正常
3. 尝试重新生成

## 📞 技术支持

### 调试信息
如遇问题，请提供以下信息：
1. 浏览器控制台的错误信息
2. API测试结果截图
3. 具体的操作步骤和现象描述

### 开发者工具
- **API测试页面**: `http://localhost:5173/api-test.html`
- **浏览器控制台**: F12 → Console
- **网络请求**: F12 → Network

---

## 🎯 下一步计划

根据开发计划，接下来将重点完善：

### 🔥 第二优先级 (3-5天)
- 🖼️ **图像管理系统开发**: 完成ImageManager.tsx组件
- 🎨 **智能配图生成功能**: 基于文章内容自动生成配图
- 📐 **封面制作和多尺寸适配**: 支持不同平台的封面规格
- 🔄 **图片管理和替换功能**: 图片编辑和替换工具

### ✨ 第三优先级 (1周)
- 📤 **导出和分享系统**: 多格式导出功能
- ⚡ **性能优化和懒加载**: 提升应用响应速度
- 📝 **用户反馈收集机制**: 收集使用反馈
- 🛡️ **完整的错误处理体系**: 提升系统稳定性

---

**祝您写作愉快！** 🎉
